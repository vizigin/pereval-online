<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Перевал.Онлайн - Горные перевалы, вершины и ледники</title>
    <meta name="description" content="Перевалы и вершины на карте с описанием. Удобный поиск и каталог.">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="img/favicon.ico">
    <link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico">
    <link rel="apple-touch-icon" href="img/favicon.ico">
    <meta name="theme-color" content="#ffffff">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather&family=Open+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Select2 -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    
    <!-- Leaflet -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    
    <!-- Styles -->
    <style>
        :root {
            font-family: 'Open Sans', sans-serif;
        }
        
        .merriweather {
            font-family: 'Merriweather', serif;
        }

        /* Основные стили */
        :root {
            --color-primary: #77bb00;
            --color-text: #333;
            --color-text-light: #666;
            --color-border: #ddd;
            --color-bg: #f5f5f5;
            --color-bg-light: #fff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Open Sans', sans-serif;
            color: var(--color-text);
            line-height: 1.5;
            background: var(--color-bg);
            font-size: 14px;
            font-weight: 400;
        }

        .wrap {
            display: flex;
            min-height: 100vh;
            position: relative;
        }

        .aside {
            width: 300px;
            flex-shrink: 0;
            background: #F8F8F8;
            position: fixed;
            top: 0;
            left: 0;
            bottom: 0;
            z-index: 10;
            border-right: 1px solid var(--color-border);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .aside__scroll {
            flex: 1;
            overflow-y: auto;
            transition: transform 0.25s cubic-bezier(0.4, 0, 0.2, 1);
            background: #F8F8F8;
        }

        .menu-open .aside__scroll {
            transform: translateX(300px);
        }

        .menu-overlay {
            position: fixed;
            top: 85px;
            left: -300px;
            bottom: 0;
            width: 300px;
            background: #F8F8F8;
            z-index: 20;
            transition: transform 0.25s cubic-bezier(0.4, 0, 0.2, 1);
            overflow-y: auto;
        }

        .menu-overlay.active {
            transform: translateX(300px);
        }

        .menu-overlay__scroll {
            padding: 0;
        }

        .main {
            flex: 1;
            margin-left: 300px;
            background: #fff;
            position: relative;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .aside-hidden .main {
            margin-left: 0;
        }

        @media (max-width: 1259px) {
            .main {
                margin-left: 240px;
            }
        }

        @media (max-width: 1023px) {
            .main {
                margin-left: 0;
            }
        }

        .main__inner {
            max-width: 1200px;
            margin: 0 auto;
            flex: 1;
            width: 100%;
        }

        .footer {
            background: #fff;
            border-top: 1px solid #eee;
            padding: 10px 40px;
            margin-top: auto;
            width: 100%;
        }

        .footer__inner {
            max-width: 1200px;
            margin: 0 auto;
        }

        .footer__copyright {
            text-align: left;
            color: #999;
            font-family: 'Open Sans', sans-serif;
            font-size: 12px;
            line-height: 1.4;
            font-weight: 400;
        }

        .footer__copyright a {
            color: #888;
            text-decoration: none;
            transition: color 0.2s;
            font-family: inherit;
            font-size: inherit;
            font-weight: inherit;
        }

        .footer__copyright a[href='https://pereval.online'] {
            text-decoration: underline;
        }

        .footer__copyright a:hover {
            color: #333;
        }

        .footer-replace {
            display: none;
        }

        @media (max-width: 768px) {
            .aside {
                width: 100%;
            position: fixed;
            top: 0;
            left: 0;
                right: 0;
            bottom: 0;
                z-index: 100;
                display: none;
                background: #F8F8F8;
            }

            .aside.active {
                display: block;
            }

            .brandbar {
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                z-index: 101;
                background: #F8F8F8;
                border-bottom: none;
            }

            .aside__scroll {
                margin-top: 85px; /* Высота brandbar */
                height: calc(100% - 85px);
                transform: none !important; /* Отключаем сдвиг в мобильной версии */
                padding: 0;
            }

            .menu-overlay {
                position: fixed;
                top: 85px;
                left: -100%;
                width: 100%;
                z-index: 102;
                background: #F8F8F8;
                transition: transform 0.25s cubic-bezier(0.4, 0, 0.2, 1);
            }

            .menu-overlay.active {
                transform: translateX(100%);
            }

            .main,
            .footer {
                margin-left: 0;
            }

            .menu-switcher {
                display: block;
            }

            .breadcrumb-switcher {
            display: flex;
            }

            /* Затемнение фона при открытом меню */
            .aside.active::after {
                content: '';
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0, 0, 0, 0.5);
                z-index: 99;
            }
        }

        .brandbar {
            flex-shrink: 0;
            padding: 20px;
            background: #F8F8F8;
            position: relative;
            z-index: 30;
            border-bottom: none;
        }

        .brandbar__table {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .brandbar__cell {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo {
            position: relative;
            display: inline-block;
            color: #000;
            height: 45px;
            line-height: 43px;
            max-width: 9em;
            text-align: left;
            padding-left: 55px;
            font-size: 15px;
            font-weight: 600;
            letter-spacing: 0.02em;
            text-transform: uppercase;
            text-decoration: none;
        }

        .logo:before {
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            width: 55px;
            background: url("/static/img/logo.svg") left center no-repeat;
            background-size: contain;
            content: '';
        }

        .no-svg .logo:before {
            background-image: url("img/logo.png");
        }

        .logo__inner {
            display: inline-block;
            vertical-align: middle;
            line-height: 1.2;
            width: 100%;
        }

        a.logo {
            cursor: pointer;
        }

        a.logo:hover {
            color: var(--color-primary);
        }

        .logo_2line {
            display: inline;
            font-family: inherit;
            font-size: inherit;
            font-weight: inherit;
            color: inherit;
            letter-spacing: inherit;
            margin-top: 0;
            text-transform: inherit;
        }

        .regions-switcher,
        .breadcrumb-switcher {
            color: #000;
            font-size: 18px;
            cursor: pointer;
            transition: color 0.2s;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            text-decoration: none;
            border: none;
            background: none;
            padding: 0;
            margin: 0;
        }

        .regions-switcher:hover,
        .breadcrumb-switcher:hover {
            color: var(--color-primary);
        }

        .regions-switcher i {
            color: inherit;
            border: none;
            text-decoration: none;
        }

        /* Убираем все возможные псевдоэлементы */
        .regions-switcher:before,
        .regions-switcher:after {
            display: none !important;
            content: none !important;
            border: none !important;
        }

        .breadcrumb-switcher {
            display: none;
        }

        .breadcrumb-switcher.active {
            display: flex;
        }

        .breadcrumb-switcher span {
            display: block;
            width: 18px;
            height: 2px;
            background: currentColor;
            position: relative;
            transition: transform 0.3s;
        }

        .breadcrumb-switcher span::before,
        .breadcrumb-switcher span::after {
            content: '';
            position: absolute;
            width: 18px;
            height: 2px;
            background: currentColor;
            left: 0;
            transition: transform 0.3s;
        }

        .breadcrumb-switcher span::before {
            top: -6px;
        }

        .breadcrumb-switcher span::after {
            bottom: -6px;
        }

        .breadcrumb-switcher.active span {
            background: transparent;
        }

        .breadcrumb-switcher.active span::before {
            transform: rotate(45deg);
            top: 0;
        }

        .breadcrumb-switcher.active span::after {
            transform: rotate(-45deg);
            bottom: 0;
        }

        .breadcrumb-menu {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--color-bg-light);
            border: 1px solid var(--color-border);
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            z-index: 10;
            max-height: calc(100vh - 200px);
            overflow-y: auto;
            padding: 10px 0;
        }

        .breadcrumb-menu.active {
            display: block;
        }

        .breadcrumb-menu ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .breadcrumb-menu li {
            margin: 0;
        }

        .breadcrumb-menu a {
            display: block;
            padding: 8px 20px;
            color: var(--color-text);
            text-decoration: none;
            transition: background-color 0.2s;
        }

        .breadcrumb-menu a:hover {
            background-color: var(--color-bg-hover);
        }

        .search-switcher {
            color: var(--color-text-light);
            font-size: 18px;
            cursor: pointer;
            transition: color 0.2s;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .search-switcher:hover {
            color: var(--color-primary);
        }

        .menu-switcher {
            width: 24px;
            height: 18px;
            position: relative;
            margin-left: 8px;
            color: var(--color-primary);
            cursor: pointer;
            transition: color 0.2s;
            display: flex;
            align-items: center;
        }

        .menu-switcher:hover {
            color: #669900; /* Темно-зеленый при наведении */
        }

        .menu-switcher span {
            display: block;
            width: 100%;
            height: 2px;
            background: currentColor;
            position: absolute;
            left: 0;
            transition: transform 0.3s, opacity 0.3s;
        }

        .menu-switcher span:first-child {
            top: 0;
        }

        .menu-switcher span:nth-child(2) {
            top: 50%;
            transform: translateY(-50%);
        }

        .menu-switcher span:last-child {
            bottom: 0;
        }

        .menu-switcher.active span:first-child {
            transform: translateY(8px) rotate(45deg);
        }

        .menu-switcher.active span:nth-child(2) {
            opacity: 0;
        }

        .menu-switcher.active span:last-child {
            transform: translateY(-8px) rotate(-45deg);
        }

        .main__header {
            position: relative;
            height: 500px;
            margin-bottom: 40px;
            background: #f5f5f5;
        }

        #map {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
        }

        .main__header-content {
            position: relative;
            z-index: 2;
            text-align: center;
            padding: 40px 20px;
            background: rgba(255, 255, 255, 0.9);
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
        }

        @media (max-width: 1023px) {
            .main__header-content {
                padding: 30px 15px;
            }
        }

        @media (max-width: 767px) {
            .main__header-content {
                padding: 20px 10px;
            }
            
            .main__header {
                height: auto;
                min-height: 400px;
            }
        }

        @media (max-width: 479px) {
            .main__header-content {
                padding: 15px 10px;
            }
            
            .main__header {
                min-height: 350px;
            }
        }

        .main__title {
            font-family: 'Merriweather', serif;
            font-size: 36px;
            font-weight: 400;
            line-height: 1.4;
            margin-bottom: 40px;
            color: #333;
            text-align: center;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        @media (max-width: 767px) {
            .main__title {
                font-size: 28px;
                margin-bottom: 30px;
            }
        }

        @media (max-width: 479px) {
            .main__title {
                font-size: 24px;
                margin-bottom: 20px;
            }
        }

        .main__stats {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
            justify-content: center;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            padding: 0 20px;
        }

        @media (max-width: 767px) {
            .main__stats {
                gap: 15px;
                padding: 0 15px;
                margin-bottom: 20px;
            }
        }

        @media (max-width: 479px) {
            .main__stats {
                gap: 10px;
                padding: 0 10px;
                margin-bottom: 15px;
            }
        }

        .stat {
            display: inline-flex;
            align-items: baseline;
            min-width: auto;
            white-space: nowrap;
            flex: 0 1 auto;
        }

        @media (max-width: 767px) {
            .stat {
                flex: 0 1 calc(50% - 15px);
                justify-content: center;
            }
        }

        @media (max-width: 479px) {
            .stat {
                flex: 0 1 100%;
                justify-content: center;
            }
        }

        .stat__value {
            font-size: 26px;
            color: #333;
            line-height: 1.2;
            margin-right: 5px;
        }

        @media (max-width: 767px) {
            .stat__value {
                font-size: 20px;
            }
        }

        @media (max-width: 479px) {
            .stat__value {
                font-size: 18px;
            }
        }

        .stat__label {
            font-size: 18px;
            color: #666;
        }

        @media (max-width: 767px) {
            .stat__label {
                font-size: 14px;
            }
        }

        @media (max-width: 479px) {
            .stat__label {
                font-size: 12px;
            }
        }

        .btn--map {
            padding: 8px 16px;
            font-size: 14px;
            margin-top: 20px;
            align-self: center;
        }

        @media (max-width: 767px) {
            .btn--map {
                padding: 6px 12px;
                font-size: 13px;
                margin-top: 15px;
            }
        }

        @media (max-width: 479px) {
            .btn--map {
                padding: 5px 10px;
                font-size: 12px;
                margin-top: 10px;
                width: auto;
            }
        }

        .main__header-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .main__header-content .btn--map {
            width: auto;
            margin-top: 20px;
        }

        .section {
            margin-bottom: 40px;
        }

        .section__title {
            font-family: 'Merriweather', serif;
            font-size: 24px;
            font-weight: 400;
            margin-bottom: 20px;
            color: var(--color-text);
            line-height: 1.3;
        }

        .section .menu-list {
            margin-top: 10px !important;
            line-height: 2 !important;
            font-size: 0 !important;
        }

        .section .menu-list li {
            font-size: 14px !important;
            margin: 0 !important;
            padding: 0 !important;
            display: inline !important;
            border: none !important;
        }

        .section .menu-list li:not(:last-child)::after {
            margin: 0 !important;
            color: #666 !important;
            content: none !important;
        }

        .section .menu-list a {
            display: inline-block !important;
            color: #333 !important;
            text-decoration: underline !important;
            font-family: 'Open Sans', sans-serif !important;
            font-size: 14px !important;
            font-weight: 400 !important;
            line-height: 1.4 !important;
            transition: all 0.2s !important;
            white-space: nowrap !important;
            padding: 8px 45px 8px 8px !important;
            margin: 0 !important;
            border: none !important;
            background: none !important;
            border-radius: 2px !important;
            position: relative !important;
        }

        .section .menu-list a:hover {
            color: #0066cc !important;
            text-decoration: underline !important;
            background: rgba(0, 102, 204, 0.1) !important;
        }

        .section .menu-list__count {
            color: rgb(170, 170, 170) !important;
            font-size: 10px !important;
            font-weight: 400 !important;
            display: inline-block !important;
            padding: 0 !important;
            background: none !important;
            text-decoration: none !important;
            pointer-events: none !important;
            position: absolute !important;
            right: 8px !important;
            top: 50% !important;
            transform: translateY(-50%) !important;
            min-width: 35px !important;
            text-align: left !important;
        }

        .section .menu-list__count::before {
            content: "(" !important;
        }

        .section .menu-list__count::after {
            content: ")" !important;
        }

        .section .menu-list a:hover .menu-list__count {
            color: #0066cc !important;
            background: none !important;
        }

        .objects-list {
            display: grid;
            gap: 20px;
        }

        .object-card {
            background: var(--color-bg-light);
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .object-card__inner {
            padding: 20px;
        }

        .object-card__title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .object-card__title a {
            color: var(--color-text);
            text-decoration: none;
            transition: color 0.2s;
        }

        .object-card__title a:hover {
            color: var(--color-primary);
        }

        .object-card__meta {
            font-size: 14px;
            color: var(--color-text-light);
        }

        .object-card__region {
            color: inherit;
            text-decoration: none;
        }

        .object-card__region:hover {
            color: var(--color-primary);
        }

        .object-card__region:hover {
            color: var(--color-primary);
        }

        .aside__inner {
            min-height: 100%;
            background: #F8F8F8;
        }

        .tabs {
            margin-bottom: 20px;
            position: relative;
        }

        .tabs__inner {
            position: relative;
            overflow: hidden;
        }

        .tabs__scroll {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            margin-bottom: -17px;
            padding-bottom: 17px;
        }

        .tabs__scroll-inner {
            display: flex;
            justify-content: center;
            min-width: 100%;
        }

        .tabs ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            border-bottom: 1px solid #e5e5e5;
            justify-content: center;
        }

        .tabs li {
            margin: 0 15px; /* Равномерные отступы между табами */
            position: relative;
        }

        .tabs li:last-child {
            margin-right: 15px; /* Сохраняем отступ справа для последнего таба */
        }

        .tabs a {
            display: block;
            padding: 12px 0;
            color: #666;
            text-decoration: none;
            font-family: 'Open Sans', sans-serif;
            font-size: 14px;
            font-weight: 400;
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
            white-space: nowrap;
        }

        .tabs a i {
            margin-right: 8px;
            font-size: 16px;
            vertical-align: -1px;
            color: #666;
        }

        .tabs a:hover {
            color: #666;
        }

        .tabs a:hover i {
            color: #666;
        }

        .tabs li.active a {
            color: #666;
            border-bottom-color: #0066cc;
        }

        .tabs li.active a i {
            color: #0066cc;
        }

        @media (max-width: 768px) {
            .tabs__scroll {
                margin-bottom: -15px;
                padding-bottom: 15px;
            }
            
            .tabs li {
                margin-right: 20px;
            }
            
            .tabs a {
                font-size: 14px;
                padding: 10px 0;
            }
        }

        .tab-pane {
            display: none;
        }

        .tab-pane.active {
            display: block;
        }

        .search-panel {
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .form__item {
            margin-bottom: 15px;
        }

        .form__item:last-child {
            margin-bottom: 0;
        }

        .form__item-label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--color-text);
        }

        .form__item-field {
            position: relative;
            margin-top: 5px;
        }

        .form__item-field:first-child {
            margin-top: 0;
        }

        .form__tip {
            margin: 2px 10px -5px;
            color: #888;
            font-size: 11px;
            font-weight: 400;
        }

        .textfield-wrapper {
            position: relative;
            display: block;
            vertical-align: top;
        }

        .textfield {
            display: inline-block;
            font-family: "Open Sans", Tahoma, Arial, Helvetica, sans-serif;
            font-size: 14px;
            font-weight: 400;
            line-height: 1.285714285714286;
            background: #fff;
            color: #333;
            padding: 8px 18px;
            height: 36px;
            width: 100%;
            border: 1px solid #ddd;
            border-radius: 4px;
            transition: background-color .2s, color .2s, border-color .2s, box-shadow .2s;
        }

        .textfield:hover {
            border-color: #888;
        }

        .textfield:focus {
            outline: 0;
            box-shadow: none;
            border-color: #888;
        }

        .textfield-placeholder {
            position: absolute;
            top: 1px;
            left: 0;
            margin: 8px 15px;
            padding: 0 3px;
            max-width: 100%;
            border: 1px solid transparent;
            font-size: 14px;
            font-weight: 400;
            line-height: 1.285714285714286;
            color: #888;
            z-index: 1;
            pointer-events: none;
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
            transition: all .2s;
        }

        .textfield-placeholder:before {
            position: absolute;
            top: 50%;
            right: 0;
            left: 0;
            z-index: -1;
            bottom: 3px;
            margin-top: -1px;
            background-color: transparent;
            border-radius: 0 0 3px 3px;
            content: '';
            transition: all .2s;
        }

        .textfield:focus + .textfield-placeholder,
        .textfield.filled + .textfield-placeholder,
        .textfield[value]:not([value=""]) + .textfield-placeholder {
            color: #444;
            font-size: 12px;
            top: -16px;
        }

        .textfield:focus + .textfield-placeholder:before,
        .textfield.filled + .textfield-placeholder:before,
        .textfield[value]:not([value=""]) + .textfield-placeholder:before {
            background-color: #fff;
        }

        .textfield-after {
            position: absolute;
            top: 0;
            right: 0;
            width: 42px;
            height: 36px;
            display: flex !important;
            align-items: center;
            justify-content: center;
            pointer-events: none;
            z-index: 1;
        }

        .textfield-after i {
            font-size: 14px;
            color: #888;
        }

        /* Скрываем textfield-after только когда есть выбранные элементы */
        .textfield-wrapper.has-selection .textfield-after,
        .select2-container.has-selection + .textfield-after {
            display: none !important;
        }

        /* Удаляем правило, которое скрывает textfield-after */
        /* .textfield-after {
            display: none !important;
        } */

        .textfield-reset {
            position: absolute;
            top: 0;
            right: 0;
            width: 42px;
            height: 36px;
            padding: 0;
            border: none;
            background: none;
            cursor: pointer;
            opacity: 0;
            transition: opacity .2s;
            z-index: 2;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .textfield-reset:before {
            content: '\f00d';
            font-family: 'Font Awesome 5 Free';
            font-weight: 900;
            font-size: 14px;
            color: #888;
            transition: opacity .2s;
        }

        .textfield-reset:after {
            content: '\f002';
            font-family: 'Font Awesome 5 Free';
            font-weight: 900;
            font-size: 14px;
            color: #888;
            position: absolute;
            right: 15px;
            opacity: 0;
            transition: opacity .2s;
        }

        .textfield-reset.active:before {
            opacity: 0;
        }

        .textfield-reset.active:after {
            opacity: 1;
        }

        .textfield-reset:hover:before,
        .textfield-reset:hover:after {
            color: #333;
        }

        .textfield-reset.active + .textfield-after,
        .textfield-reset.active ~ .textfield-after {
            display: none;
        }

        /* Обновляем стили для textfield-wrapper */
        .textfield-wrapper {
            position: relative;
            display: block;
            vertical-align: top;
        }

        .textfield-wrapper .select2-container {
            margin-bottom: 0;
        }

        .textfield-wrapper .select2-container .select2-selection--multiple {
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: #fff;
            min-height: 36px;
            padding: 2px 42px 2px 8px;
        }

        .textfield-wrapper .select2-container .select2-selection--multiple:hover {
            border-color: #888;
        }

        .textfield-wrapper .select2-container.select2-container--open .select2-selection--multiple {
            border-color: #888;
        }

        /* Обновляем стили для textfield-after */
        .textfield-after {
            position: absolute;
            top: 0;
            right: 0;
            width: 42px;
            height: 36px;
            display: flex !important;
            align-items: center;
            justify-content: center;
            pointer-events: none;
            z-index: 1;
        }

        .textfield-after i {
            font-size: 14px;
            color: #888;
        }

        /* Скрываем textfield-after только когда есть выбранные элементы */
        .textfield-wrapper.has-selection .textfield-after,
        .select2-container.has-selection + .textfield-after {
            display: none !important;
        }

        /* Удаляем правило, которое скрывает textfield-after */
        /* .textfield-after {
            display: none !important;
        } */

        .selectbox {
            width: 100%;
            border: 1px solid var(--color-border);
            border-radius: 4px;
            font-size: 14px;
            color: var(--color-text);
            background: var(--color-bg-light);
        }

        .selectbox option {
            padding: 8px 12px;
        }

        .selectbox option:checked {
            background: var(--color-primary);
            color: white;
        }

        .checkbox {
            display: flex;
            align-items: center;
            cursor: pointer;
            user-select: none;
            position: relative;
            padding-left: 28px;
            margin-bottom: 10px;
        }

        .checkbox input {
            position: absolute;
            opacity: 0;
            cursor: pointer;
            height: 0;
            width: 0;
        }

        .checkbox span {
            font-size: 14px;
            color: var(--color-text);
            line-height: 1.4;
        }

        .checkbox:before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 18px;
            height: 18px;
            border: 1px solid #ddd;
            border-radius: 3px;
            background: #fff;
            transition: all 0.2s;
        }

        .checkbox:hover:before {
            border-color: #888;
        }

        .checkbox input:checked + span:before {
            content: '';
            position: absolute;
            left: 6px;
            top: 50%;
            transform: translateY(-50%) rotate(45deg);
            width: 6px;
            height: 10px;
            border: solid #77bb00;
            border-width: 0 2px 2px 0;
        }

        .checkbox input:checked + span:after {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 18px;
            height: 18px;
            border: 1px solid #77bb00;
            border-radius: 3px;
            background: #fff;
        }

        .checkbox input:focus + span:before {
            border-color: #888;
        }

        .checkbox input:disabled + span {
            color: #999;
            cursor: not-allowed;
        }

        .checkbox input:disabled + span:before {
            background: #f5f5f5;
            border-color: #ddd;
            cursor: not-allowed;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            font-size: 14px;
            font-weight: 600;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn i {
            margin-right: 8px;
        }

        .btn--primary {
            background: rgba(119, 187, 0, 0.75);
            color: white;
        }

        .btn--primary:hover {
            background: rgba(119, 187, 0, 0.9);
        }

        .btn--block {
            width: 100%;
        }

        .search-results {
            margin-top: 20px;
        }

        .sobject {
            background: var(--color-bg-light);
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .sobject:last-child {
            margin-bottom: 0;
        }

        .sobject__inner {
            padding: 15px;
        }

        .sobject__title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .sobject__title a {
            color: var(--color-text);
            text-decoration: none;
            transition: color 0.2s;
        }

        .sobject__title a:hover {
            color: var(--color-primary);
        }

        .sobject__meta {
            font-size: 14px;
            color: var(--color-text-light);
        }

        .sobject__meta span {
            display: inline-flex;
            align-items: center;
            margin-right: 15px;
        }

        .sobject__meta i {
            margin-right: 5px;
        }

        .menu-social {
            padding: 20px;
            color: #666;
            font-size: 13px;
            line-height: 1.4;
            border-top: 1px solid #e5e5e5;
        }

        .menu-social p {
            margin: 0 0 15px 0;
        }

        .social-icon {
            color: #666;
            font-size: 18px;
            text-decoration: none;
            transition: color 0.2s;
            margin-right: 10px;
        }

        .social-icon:hover {
            color: #333;
        }

        .map-stat__inner {
            position: relative;
            background-color: #fff;
            padding: 60px;
        }

        @media (max-height: 650px) {
            .map-stat__inner {
                background-color: transparent;
            }
        }

        .map-stat__inner:before {
            position: absolute;
            top: 100%;
            right: 0;
            left: 0;
            background-color: transparent;
            background-image: -webkit-linear-gradient(bottom, transparent 0, rgba(0,0,0,.05) 70%, rgba(0,0,0,.1) 100%);
            pointer-events: none;
        }

        @media (max-height: 650px) {
            .map-stat__inner:before {
                display: none;
            }
        }

        .map-stat__inner:after {
            position: absolute;
            right: 0;
            bottom: 100%;
            left: 0;
            height: 8px;
            background-color: transparent;
            background-image: -webkit-linear-gradient(top, transparent 0, rgba(0,0,0,.05) 70%, rgba(0,0,0,.1) 100%);
            pointer-events: none;
        }

        @media (max-height: 650px) {
            .map-stat__inner:after {
                display: none;
            }
        }

        @media (max-width: 1259px) {
            .map-stat__inner {
                padding: 40px 30px;
            }
        }

        @media (max-width: 479px) {
            .map-stat__inner {
                padding: 30px 20px;
            }
        }

        .map-stat__title {
            margin-top: 30px;
            line-height: 1.2;
            font-family: 'Merriweather', serif;
            font-size: 32px;
            font-weight: 400;
            color: #333;
        }

        .map-stat__title:first-child {
            margin-top: 0;
        }

        .map-stat__title:first-child {
            margin-top: -.2em;
        }

        @media (max-width: 479px) {
            .map-stat__title {
                font-size: 22px;
            }
        }

        .map-stat__content {
            margin-top: 30px;
            margin-right: -50px;
            margin-bottom: -20px;
            font-size: 24px;
            font-family: 'Open Sans', sans-serif;
            color: #333;
        }

        .map-stat__content:first-child {
            margin-top: 0;
        }

        @media (max-width: 1259px) {
            .map-stat__row {
                display: block;
                margin-bottom: 0;
            }
        }

        .map-stat__value {
            font-family: 'Open Sans', sans-serif;
            font-size: 24px;
            margin-right: 5px;
            font-weight: 400;
            color: #333;
        }

        @media (max-width: 1259px) {
            .map-stat__value {
                font-size: 18px;
                margin-right: 3px;
            }
        }

        @media (max-width: 479px) {
            .map-stat__value {
                display: inline-block;
                min-width: 4em;
                text-align: right;
                font-size: 16px;
            }
        }

        @media (max-width: 399px) {
            .map-stat__value {
                font-size: 14px;
            }
        }

        .map-stat__label {
            font-weight: 400;
            color: #666;
        }

        @media (max-width: 479px) {
            .map-stat__label {
                display: inline-block;
                min-width: 6em;
                text-align: left;
            }
        }

        .map-stat__action {
            margin-top: 35px;
        }

        .map-stat__action:first-child {
            margin-top: 0;
        }

        @media (max-width: 479px) {
            .map-stat__action {
                margin-top: 25px;
            }
        }

        .map-stat__row {
            display: inline-block;
            vertical-align: top;
            white-space: nowrap;
            margin-right: 50px;
            margin-bottom: 20px;
        }

        @media (max-width: 1259px) {
            .map-stat__row {
                margin-right: 40px;
                margin-bottom: 10px;
            }
        }

        @media (max-width: 479px) {
            .map-stat__row {
                display: block;
                margin-bottom: 0;
                text-align: center;
            }
        }

        .main__content {
            padding: 20px;
            font-family: 'Open Sans', sans-serif;
            font-size: 14px;
            line-height: 1.5;
            color: #333;
        }

        .main__content p {
            margin-bottom: 1em;
        }

        .main__content a {
            color: #0066cc;
            text-decoration: none;
            transition: color 0.2s;
        }

        .main__content a:hover {
            color: #004c99;
        }

        .main__content h1, 
        .main__content h2, 
        .main__content h3, 
        .main__content h4, 
        .main__content h5, 
        .main__content h6 {
            font-family: 'Merriweather', serif;
            font-weight: 400;
            color: #333;
            margin-bottom: 0.5em;
            line-height: 1.3;
        }

        .main__content h1 {
            font-size: 32px;
        }

        .main__content h2 {
            font-size: 28px;
        }

        .main__content h3 {
            font-size: 20px;
        }

        .main__content h4 {
            font-size: 18px;
        }

        .main__content h5,
        .main__content h6 {
            font-size: 16px;
        }

        @media (max-width: 479px) {
            .main__content h1 {
                font-size: 22px;
            }
            .main__content h2 {
                font-size: 20px;
            }
            .main__content h3 {
                font-size: 18px;
            }
            .main__content h4 {
                font-size: 16px;
            }
            .main__content h5,
            .main__content h6 {
                font-size: 14px;
            }
        }

        /* Select2 (оригинальные стили pereval.online) */
        .select2-container {
            width: 100% !important;
            margin-bottom: 10px;
            position: relative;
        }

        .select2-container .select2-selection--multiple {
            min-height: 36px;
            border: 1px solid #ddd;
            border-radius: 3px;
            background-color: #fff;
            padding: 2px 8px;
            cursor: pointer;
            transition: border-color .2s;
        }

        .select2-container .select2-selection--multiple:hover {
            border-color: #888;
        }

        /* Стили для контейнера выбранных элементов */
        .select2-container--default .select2-selection--multiple .select2-selection__rendered {
            padding: 0;
            margin: 0 8px;
            list-style: none;
            display: block;
            cursor: pointer;
            min-height: 32px;
            line-height: 32px;
            color: #333;
            font-size: 13px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            position: relative;
            z-index: 1;
        }

        /* Скрываем стандартные элементы выбора */
        .select2-container--default .select2-selection--multiple .select2-selection__choice {
            display: none !important;
        }

        /* Скрываем кнопки удаления */
        .select2-container--default .select2-selection--multiple .select2-selection__choice__remove {
            display: none !important;
        }

        /* Скрываем плейсхолдер, когда есть выбранные элементы */
        .select2-container--default .select2-selection--multiple.has-selection .select2-selection__placeholder {
            display: none !important;
        }

        /* Стили для контейнера Select2 */
        .select2-container--default .select2-selection--multiple {
            min-height: 36px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: #fff;
            padding: 2px 42px 2px 8px;
            cursor: pointer;
            position: relative;
        }

        /* Скрываем поле ввода */
        .select2-container--default .select2-selection--multiple .select2-search--inline {
            display: none !important;
            width: 0 !important;
            height: 0 !important;
            padding: 0 !important;
            margin: 0 !important;
            position: absolute !important;
            left: -9999px !important;
            top: -9999px !important;
            visibility: hidden !important;
            z-index: -1 !important;
        }

        /* Стили для кнопки очистки */
        .select2-container--default .select2-selection .select2-selection__clear {
            position: absolute;
            top: -1px;
            right: 10px;
            z-index: 1;
            width: 42px;
            height: 36px;
            margin: 0;
            cursor: pointer;
            text-indent: -9999px;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        .select2-container--default .select2-selection .select2-selection__clear:before {
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            background: url('img/icon-cross.png') center 12px no-repeat;
            opacity: .5;
            content: '';
            transition: opacity .2s;
        }

        .select2-container--default .select2-selection .select2-selection__clear:hover:before {
            opacity: 1;
        }

        .select2-container--default .select2-selection.select2-selection--with-clear .select2-selection__rendered {
            padding-right: 45px;
        }

        /* Показываем кнопку очистки только когда есть выбранные элементы */
        .select2-container--default .select2-selection--multiple.has-selection .select2-selection__clear {
            display: block;
        }

        /* Обновляем стили для контейнера Select2 */
        .select2-container--default .select2-selection--multiple {
            min-height: 36px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: #fff;
            padding: 2px 42px 2px 8px;
            cursor: pointer;
        }

        .select2-container--default .select2-selection--multiple:hover {
            border-color: #888;
        }

        .select2-container--default.select2-container--open .select2-selection--multiple {
            border-color: #888;
        }

        /* Стили для плейсхолдера */
        .select2-container--default .select2-selection--multiple .select2-selection__placeholder {
            position: absolute;
            top: 1px;
            left: 0;
            margin: 8px 15px;
            padding: 0 3px;
            max-width: 100%;
            border: 1px solid transparent;
            font-size: 14px;
            font-weight: 400;
            line-height: 1.285714285714286;
            color: #888;
            z-index: 1;
            pointer-events: none;
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
            transition: all .2s;
        }

        .select2-container--default .select2-selection--multiple .select2-selection__placeholder:before {
            position: absolute;
            top: 50%;
            right: 0;
            left: 0;
            z-index: -1;
            bottom: 3px;
            margin-top: -1px;
            background-color: transparent;
            border-radius: 0 0 3px 3px;
            content: '';
            transition: all .2s;
        }

        /* Анимация плейсхолдера при фокусе или наличии выбранных элементов */
        .select2-container--default.select2-container--open .select2-selection--multiple .select2-selection__placeholder,
        .select2-container--default .select2-selection--multiple.has-selection .select2-selection__placeholder {
            color: #444;
            font-size: 12px;
            top: -16px;
        }

        .select2-container--default.select2-container--open .select2-selection--multiple .select2-selection__placeholder:before,
        .select2-container--default .select2-selection--multiple.has-selection .select2-selection__placeholder:before {
            background-color: #fff;
        }

        .select2-dropdown {
            border: 1px solid #ddd;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            background-color: #fff;
            margin-top: 2px;
        }

        /* Фиксированная ширина для дропдауна */
        .select2-dropdown--below {
            width: 259px !important;
            min-width: 259px !important;
            max-width: 259px !important;
        }

        /* Контейнер для дропдауна */
        .select2-container--open .select2-dropdown--below {
            width: 259px !important;
            min-width: 259px !important;
            max-width: 259px !important;
        }

        /* Убираем стандартное позиционирование Select2 */
        .select2-container {
            width: 100% !important;
            margin-bottom: 10px;
            position: relative;
        }

        /* Контейнер для дропдауна */
        .select2-container--open .select2-dropdown {
            position: absolute;
            left: 0;
            right: 0;
            width: 100% !important;
            min-width: 100%;
            max-width: none !important;
        }

        .select2-container--default .select2-results__option {
            padding: 6px 12px;
            font-size: 13px;
            line-height: 1.4;
            color: #333;
            margin: 0;
            position: relative;
        }

        .select2-container--default .select2-results__option--selected {
            background-color: #fff !important;
        }

        .select2-container--default .select2-results__option[aria-selected=true] {
            color: #333;
        }

        .select2-container--default .select2-results__option[aria-selected=true]:before {
            content: '';
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            width: 11px;
            height: 8px;
        }

        .select2-container--default .select2-results__option--highlighted[aria-selected] {
            background-color: #f5f5f5;
            color: #333;
        }

        .select2-search--dropdown {
            padding: 8px;
            border-bottom: 1px solid #eee;
        }

        .select2-search__field {
            border: 1px solid #ddd;
            border-radius: 3px;
            padding: 6px 8px;
            font-size: 13px;
            width: 100%;
            outline: none;
        }

        .select2-search__field:focus {
            border-color: #77bb00;
            box-shadow: 0 0 0 2px rgba(119, 187, 0, 0.1);
        }

        /* Стили для стрелки Select2 */
        .select2-container--default .select2-selection--multiple .select2-selection__arrow {
            position: absolute;
            top: 0;
            right: 0;
            width: 42px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            pointer-events: none;
            background: none;
            border: none;
            padding: 0;
            margin: 0;
        }

        .select2-container--default .select2-selection--multiple .select2-selection__arrow:before {
            content: '\f078';
            font-family: 'Font Awesome 5 Free';
            font-weight: 900;
            font-size: 14px;
            color: #888;
            transition: transform 0.2s;
        }

        .select2-container--default.select2-container--open .select2-selection--multiple .select2-selection__arrow:before {
            transform: rotate(180deg);
        }

        /* Удаляем старые стили для textfield-after */
        .textfield-after {
            display: none !important;
        }

        /* Обновляем стили для textfield-wrapper, чтобы учесть новую стрелку */
        .textfield-wrapper {
            position: relative;
            display: block;
            vertical-align: top;
        }

        .textfield-wrapper .select2-container {
            margin-bottom: 0;
        }

        .textfield-wrapper .select2-container .select2-selection--multiple {
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: #fff;
            min-height: 36px;
            padding: 2px 42px 2px 8px;
        }

        .textfield-wrapper .select2-container .select2-selection--multiple:hover {
            border-color: #888;
        }

        .textfield-wrapper .select2-container.select2-container--open .select2-selection--multiple {
            border-color: #888;
        }

        /* Стили для плейсхолдера в select */
        .textfield-wrapper .select2-container--default .select2-selection--multiple + .textfield-placeholder {
            position: absolute;
            top: 1px;
            left: 0;
            margin: 8px 15px;
            padding: 0 3px;
            max-width: 100%;
            border: 1px solid transparent;
            font-size: 14px;
            font-weight: 400;
            line-height: 1.285714285714286;
            color: #888;
            z-index: 1;
            pointer-events: none;
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
            transition: all .2s ease-in-out;
        }

        .textfield-wrapper .select2-container--default .select2-selection--multiple + .textfield-placeholder:before {
            position: absolute;
            top: 50%;
            right: 0;
            left: 0;
            z-index: -1;
            bottom: 3px;
            margin-top: -1px;
            background-color: transparent;
            border-radius: 0 0 3px 3px;
            content: '';
            transition: all .2s ease-in-out;
        }

        /* Анимация плейсхолдера при выборе элементов */
        .textfield-wrapper .select2-container--default.select2-container--open .select2-selection--multiple + .textfield-placeholder,
        .textfield-wrapper .select2-container--default .select2-selection--multiple.has-selection + .textfield-placeholder {
            color: #444;
            font-size: 12px;
            top: -16px;
            transition: all .2s ease-in-out;
        }

        .textfield-wrapper .select2-container--default.select2-container--open .select2-selection--multiple + .textfield-placeholder:before,
        .textfield-wrapper .select2-container--default .select2-selection--multiple.has-selection + .textfield-placeholder:before {
            background-color: #fff;
            transition: all .2s ease-in-out;
        }

        /* Обновляем стили для плейсхолдера */
        .textfield-wrapper .select2-container--default .select2-selection--multiple + .textfield-placeholder {
            position: absolute;
            top: 1px;
            left: 0;
            margin: 8px 15px;
            padding: 0 3px;
            max-width: 100%;
            border: 1px solid transparent;
            font-size: 14px;
            font-weight: 400;
            line-height: 1.285714285714286;
            color: #888;
            z-index: 1;
            pointer-events: none;
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
            transition: all 0.2s ease-in-out;
        }

        .textfield-wrapper .select2-container--default .select2-selection--multiple + .textfield-placeholder:before {
            position: absolute;
            top: 50%;
            right: 0;
            left: 0;
            z-index: -1;
            bottom: 3px;
            margin-top: -1px;
            background-color: transparent;
            border-radius: 0 0 3px 3px;
            content: '';
            transition: all 0.2s ease-in-out;
        }

        /* Анимация плейсхолдера при выборе элементов */
        .textfield-wrapper.has-selection .textfield-placeholder,
        .textfield-wrapper .select2-container.has-selection + .textfield-placeholder {
            color: #444;
            font-size: 12px;
            top: -16px;
            transition: all 0.2s ease-in-out;
        }

        .textfield-wrapper.has-selection .textfield-placeholder:before,
        .textfield-wrapper .select2-container.has-selection + .textfield-placeholder:before {
            background-color: #fff;
            transition: all 0.2s ease-in-out;
        }

        /* Полностью скрываем и деактивируем поле ввода */
        .select2-container--default .select2-search--inline .select2-search__field {
            display: none !important;
            width: 0 !important;
            height: 0 !important;
            padding: 0 !important;
            margin: 0 !important;
            border: none !important;
            opacity: 0 !important;
            pointer-events: none !important;
            position: absolute !important;
            left: -9999px !important;
            top: -9999px !important;
            visibility: hidden !important;
            z-index: -1 !important;
        }

        /* Скрываем контейнер поиска */
        .select2-container--default .select2-search--inline {
            display: none !important;
            width: 0 !important;
            height: 0 !important;
            padding: 0 !important;
            margin: 0 !important;
            position: absolute !important;
            left: -9999px !important;
            top: -9999px !important;
            visibility: hidden !important;
            z-index: -1 !important;
        }

        /* Базовые стили для Select2 */
        .select2-container {
            width: 100% !important;
            margin-bottom: 10px;
        }

        .select2-container .select2-selection--multiple {
            min-height: 36px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: #fff;
            padding: 2px 42px 2px 8px;
            cursor: pointer;
        }

        .select2-container .select2-selection--multiple:hover {
            border-color: #888;
        }

        /* Стили для текста выбранных элементов */
        .select2-container .select2-selection--multiple .select2-selection__rendered {
            padding: 0;
            margin: 0 8px;
            list-style: none;
            display: block;
            cursor: pointer;
            min-height: 32px;
            line-height: 32px;
            color: #333;
            font-size: 13px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            position: relative;
            z-index: 1;
        }

        /* Скрываем все ненужные элементы */
        .select2-container .select2-selection--multiple .select2-selection__choice,
        .select2-container .select2-selection--multiple .select2-selection__choice__remove,
        .select2-container .select2-selection--multiple .select2-search--inline,
        .select2-container .select2-selection--multiple .select2-selection__placeholder {
            display: none !important;
        }

        /* Стили для стрелки */
        .select2-container .select2-selection--multiple .select2-selection__arrow {
            position: absolute;
            top: 0;
            right: 0;
            width: 42px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            pointer-events: none;
        }

        .select2-container .select2-selection--multiple .select2-selection__arrow:before {
            content: '\f078';
            font-family: 'Font Awesome 5 Free';
            font-weight: 900;
            font-size: 14px;
            color: #888;
        }

        .select2-container--open .select2-selection--multiple .select2-selection__arrow:before {
            transform: rotate(180deg);
        }

        /* Стили для дропдауна */
        .select2-dropdown {
            border: 1px solid #ddd;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            background-color: #fff;
            margin-top: 2px;
        }

        /* Контейнер для дропдауна */
        .select2-container--open .select2-dropdown--below {
            width: 100% !important;
            min-width: 100%;
            max-width: none !important;
        }

        /* Убираем стандартное позиционирование Select2 */
        .select2-container {
            width: 100% !important;
            margin-bottom: 10px;
            position: relative;
        }

        /* Контейнер для дропдауна */
        .select2-container--open .select2-dropdown {
            position: absolute;
            left: 0;
            right: 0;
            width: 100% !important;
            min-width: 100%;
            max-width: none !important;
        }

        .select2-container--default .select2-results__option {
            padding: 6px 12px;
            font-size: 13px;
            line-height: 1.4;
            color: #333;
            white-space: normal;
            word-wrap: break-word;
            margin: 8px 15px;
        }

        .select2-container--default .select2-results__option[aria-selected=true] {
            color: #333 !important;
        }

        .select2-container--default .select2-results__option--highlighted[aria-selected] {
            background-color: #f5f5f5;
            color: #333;
        }

        /* Стили для дропдауна и результатов */
        .select2-dropdown {
            border: 1px solid #ddd;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            background-color: #fff;
            margin-top: 2px;
        }

        /* Контейнер для результатов */
        .select2-results {
            width: 100% !important;
            max-width: 100% !important;
        }

        /* Контейнер для дропдауна */
        .select2-container--open .select2-dropdown {
            position: absolute;
            left: 0;
            right: 0;
            width: 100% !important;
        }

        /* Убираем стандартное позиционирование Select2 */
        .select2-container {
            width: 100% !important;
            margin-bottom: 10px;
            position: relative;
        }

        /* Стили для опций в дропдауне */
        .select2-container--default .select2-results__option {
            padding: 6px 12px;
            font-size: 13px;
            line-height: 1.4;
            color: #333;
            white-space: normal;
            word-wrap: break-word;
            margin: 8px 15px;
        }

        /* Цвет фона для выбранного элемента */
        .select2-container--default .select2-results__option[aria-selected=true] {
            background-color: #E2ECFE !important;
            color: #333 !important;
        }

        .select2-container--default .select2-results__option--highlighted[aria-selected] {
            background-color: #f5f5f5;
            color: #333;
        }

        /* Контейнер для результатов */
        .select2-container--default .select2-results > .select2-results__options {
            max-height: 200px;
            overflow-y: auto;
            width: 100% !important;
        }

        /* Фиксированная ширина для дропдауна Select2 */
        .select2-container--open .select2-dropdown.select2-dropdown--below,
        .select2-container--default .select2-dropdown.select2-dropdown--below {
            width: 259px !important;
            min-width: 259px !important;
            max-width: 259px !important;
            left: 0 !important;
            right: auto !important;
        }

        /* Переопределяем стили для контейнера дропдауна */
        .select2-container--open .select2-dropdown--below {
            position: absolute !important;
            width: 259px !important;
            min-width: 259px !important;
            max-width: 259px !important;
            left: 0 !important;
            right: auto !important;
        }

        /* Стили для счетчиков в дропдауне */
        .select2-container--default .select2-results__option .menu-list__count {
            color: rgb(170, 170, 170) !important;
            font-size: 10px !important;
            font-weight: 400 !important;
            display: inline-block !important;
            padding: 0 !important;
            background: none !important;
            text-decoration: none !important;
            pointer-events: none !important;
            position: relative !important;
            margin-left: 4px !important;
            min-width: auto !important;
            text-align: left !important;
        }

        .select2-container--default .select2-results__option .menu-list__count::before {
            content: "(" !important;
            margin-right: 0 !important;
        }

        .select2-container--default .select2-results__option .menu-list__count::after {
            content: ")" !important;
            margin-left: 0 !important;
        }

        /* Обновляем стили для опций */
        .select2-container--default .select2-results__option {
            padding: 8px 15px !important;
            position: relative !important;
            font-size: 14px !important;
            line-height: 1.4 !important;
            margin: 0 !important;
            white-space: nowrap !important;
        }

        /* Стили для выбранного элемента */
        .select2-container--default .select2-results__option[aria-selected=true]{
            background-color: #fff !important;
        }
        
        .select2-container--default .select2-results__option--highlighted[aria-selected] {
            background-color: #E2ECFE !important;
            color: #333 !important;   
        }

        .select2-container--default .select2-results__option[aria-selected=true] .menu-list__count {
            color: rgb(170, 170, 170) !important;
        }

        /* Стили при наведении */
        .select2-container--default .select2-results__option:hover .menu-list__count {
            color: #0066cc !important;
            background: none !important;
        }

        /* Добавляем стили для чекбокса */
        .select2-container--default .select2-results__option {
            padding: 8px 15px 8px 40px !important;
            position: relative !important;
            font-size: 14px !important;
            line-height: 1.4 !important;
            margin: 0 !important;
        }

        .select2-checkbox {
            position: absolute !important;
            left: 10px !important;
            top: 50% !important;
            transform: translateY(-50%) !important;
            width: 11px !important;
            height: 8px !important;
            margin-left: 0 !important;
            display: none !important;
            filter: invert(48%) sepia(79%) saturate(2471%) hue-rotate(176deg) brightness(96%) contrast(101%) !important;
        }

        .select2-container--default .select2-results__option--selected .select2-checkbox {
            display: block !important;
        }

        .select2-container--default .select2-results__option:not(.select2-results__option--selected) .select2-checkbox {
            display: none !important;
        }

        .select2-container--default .select2-results__option[aria-selected=true] .select2-checkbox {
            display: block !important;
        }

        .select2-container--default .select2-results__option--highlighted[aria-selected=true] .select2-checkbox {
            display: block !important;
        }

        /* Обновляем стили для опции и чекбокса */
        .select2-option-content {
            position: relative !important;
            padding-right: 30px !important;
            padding-left: 20px !important;
        }

        /* Переопределяем все возможные стили для чекбокса */
        .select2-container--default .select2-results__option img.select2-checkbox,
        .select2-container--default .select2-results__option--selected img.select2-checkbox,
        .select2-container--default .select2-results__option[aria-selected=true] img.select2-checkbox,
        .select2-container--default .select2-results__option--highlighted[aria-selected=true] img.select2-checkbox {
            left: 10px !important;
            position: absolute !important;
        }


        .select2-container--default .select2-results__option--highlighted:not([aria-selected]) .select2-checkbox {
            display: none !important;
        }

        .select2-container--default .select2-results__option--highlighted[aria-selected] {
            background-color: #E2ECFE !important;
            color: #333 !important;   
        }

        /* Скрываем галочку при наведении на выбранный элемент */
        .select2-container--default .select2-results__option--highlighted[aria-selected] .select2-checkbox {
            display: block !important;
        }

        /* Показываем галочку для выбранных элементов */
        .select2-container--default .select2-results__option[aria-selected=true] .select2-checkbox {
            display: block !important;
        }

        /* Показываем галочку при наведении на выбранный элемент */
        .select2-container--default .select2-results__option--highlighted[aria-selected=true] .select2-checkbox {
            display: block !important;
        }

        .select2-container--default .select2-results__option[aria-selected=true] .menu-list__count {
            color: rgb(170, 170, 170) !important;
        }

        /* Скрываем галочку при наведении на невыбранный элемент */
        .select2-container--default .select2-results__option--highlighted:not([aria-selected=true]) .select2-checkbox,
        .select2-container--default .select2-results__option--highlighted:not([aria-selected=true]) img.select2-checkbox {
            display: none !important;
        }

        /* Показываем галочку при наведении на выбранный элемент */
        .select2-container--default .select2-results__option--highlighted[aria-selected=true] .select2-checkbox,
        .select2-container--default .select2-results__option--highlighted[aria-selected=true] img.select2-checkbox {
            display: block !important;
        }

        /* Показываем галочку для выбранных элементов */
        .select2-container--default .select2-results__option[aria-selected=true] .select2-checkbox,
        .select2-container--default .select2-results__option[aria-selected=true] img.select2-checkbox {
            display: block !important;
        }
    </style>
</head>
<body>
    </style>
</head>
<body>
    <a href="#main" class="skip-to-main-content">Перейти к основному содержимому</a>

    <div class="wrap">
        <aside class="aside">
                <div class="brandbar">
                    <div class="brandbar__table">
                        <div class="brandbar__cell">
                            <a href="/" class="logo">
                                <span class="logo__inner">Перевал <span class="logo_2line">Online</span></span>
                            </a>
                        </div>
                        <div class="brandbar__cell">
                            <a href="/regions" class="regions-switcher tooltip tooltip-notouch" title="Список районов">
                                <i class="fas fa-globe-americas"></i>
                            </a>
                            <div class="menu-switcher js-menu-switcher">
                                <span></span>
                                <span></span>
                                <span></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="aside__scroll">
                    <div class="aside__inner">
                        <nav class="tabs">
                        <div class="tabs__inner">
                            <div class="tabs__scroll">
                                <div class="tabs__scroll-inner">
                            <ul>
                                <li class="active">
                                    <a href="#objects" data-tab="objects">
                                        <i class="fas fa-map-marker-alt"></i>
                                        Объекты
                                    </a>
                                </li>
                                <li>
                                    <a href="#reports" data-tab="reports">
                                        <i class="fas fa-file-alt"></i>
                                        Отчёты
                                    </a>
                                </li>
                            </ul>
                                </div>
                            </div>
                        </div>
                        </nav>

                        <div class="breadcrumb-menu">
                            <ul>
                                <li><a href="/">Главная</a></li>
                                <li><a href="/regions">Районы</a></li>
                                <li><a href="/about">О проекте</a></li>
                                <li><a href="/help-us">Поможете нам?</a></li>
                                <li><a href="/contacts">Контакты</a></li>
                            </ul>
                        </div>

                        <div class="tab-pane active" id="objects">
                            <div class="search-panel">
                                <form class="form" id="search-form">
                                    <div class="form__item">
                                    <div class="form__item-field">
                                        <div class="textfield-wrapper">
                                            <input class="textfield textfield--after-hide-if-reset js-autocomplete" placeholder=" " autocomplete="off" data-autocomplete-goto-url="true" data-autocomplete-appendto-parent="(max-width: 1023px)" data-autocomplete-url="https://pereval.online/search/autocomplete" name="name" type="text">
                                            <span class="textfield-placeholder">По названию</span>
                                            <button type="button" class="textfield-reset"></button>
                                            <span class="textfield-after"><i class="fas fa-search"></i></span>
                                        </div>
                                        <div class="form__tip">Не надо указывать "пер." или "г."</div>
                                    </div>
                                    </div>

                                    <div class="form__item">
                                    <div class="form__item-field">
                                        <div class="textfield-wrapper">
                                            <select class="textfield textfield--after-hide-if-reset selectbox" multiple="multiple" data-placeholder=" " data-selectbox-aggregate-min="3" name="region[]">
                                            <option value="1">Кавказ</option>
                                            <option value="2">Памир и Памиро-Алай</option>
                                            <option value="3">Тянь-Шань</option>
                                            <option value="4">Прибайкалье и Забайкалье</option>
                                            <option value="5">Саяны</option>
                                            <option value="6">Алтай</option>
                                            <option value="7">Джунгарский Алатау</option>
                                            <option value="8">Крым</option>
                                            <option value="9">Дальний Восток</option>
                                            <option value="10">Гималаи</option>
                                            <option value="11">Альпы</option>
                                            <option value="12">Урал</option>
                                            <option value="13">Северо-Запад России</option>
                                            <option value="14">Средняя Сибирь</option>
                                            <option value="15">Тавр</option>
                                            <option value="16">Высокий Атлас</option>
                                            <option value="17">Карпаты</option>
                                            <option value="18">Северо-Восточная Сибирь</option>
                                            <option value="19">Кузнецкий Алатау</option>
                                            <option value="20">Островная Арктика</option>
                                            <option value="21">Восточно-Европейская равнина</option>
                                            <option value="22">Западная Сибирь</option>
                                            <option value="23">Горы Южной Сибири</option>
                                            <option value="24">Тыва</option>
                                            <option value="25">Средняя Азия</option>
                                        </select>
                                            <span class="textfield-placeholder">По району</span>
                                            <span class="textfield-reset"></span>
                                    </div>
                                    </div>
                                    </div>

                                    <div class="form__item">
                                    <div class="form__item-field">
                                        <div class="textfield-wrapper">
                                            <select class="textfield textfield--after-hide-if-reset selectbox" multiple="multiple" data-placeholder=" " name="type[]">
                                                <option value="1">Перевал</option>
                                                <option value="2">Вершина</option>
                                                <option value="3">Ледник</option>
                                                <option value="4">Объект инфраструктуры</option>
                                                <option value="5">Объект природы</option>
                                            </select>
                                            <span class="textfield-placeholder">По типу</span>
                                            <span class="textfield-reset"></span>
                                        </div>
                                    </div>
                                    </div>

                                    <div class="form__item">
                                    <div class="form__item-field">
                                        <div class="textfield-wrapper">
                                            <select class="textfield textfield--after-hide-if-reset selectbox" multiple="multiple" data-placeholder=" " data-selectbox-aggregate-min="3" name="country[]">
                                            <option value="1">Россия</option>
                                            <option value="2">Киргизия</option>
                                            <option value="3">Таджикистан</option>
                                            <option value="4">Казахстан</option>
                                            <option value="5">Грузия</option>
                                            <option value="6">Китай</option>
                                            <option value="7">Монголия</option>
                                            <option value="8">Абхазия</option>
                                            <option value="9">Узбекистан</option>
                                            <option value="10">Непал</option>
                                            <option value="11">Южная Осетия</option>
                                            <option value="12">Азербайджан</option>
                                            <option value="13">Швейцария</option>
                                            <option value="14">Италия</option>
                                            <option value="15">Афганистан</option>
                                            <option value="16">Австрия</option>
                                            <option value="17">Индия</option>
                                            <option value="18">Пакистан</option>
                                            <option value="19">Турция</option>
                                            <option value="20">Франция</option>
                                            <option value="21">Словения</option>
                                            <option value="22">Украина</option>
                                            <option value="23">Ирак</option>
                                        </select>
                                            <span class="textfield-placeholder">По стране и региону</span>
                                            <span class="textfield-reset"></span>
                                        </div>
                                    </div>
                                    </div>

                                    <div class="form__item">
                                    <div class="form__item-field">
                                        <div class="textfield-wrapper">
                                            <select class="textfield textfield--after-hide-if-reset selectbox" multiple="multiple" data-placeholder=" " name="border[]">
                                            <option value="1">более 20 км</option>
                                            <option value="2">от 10 до 20 км</option>
                                            <option value="3">от 5 до 10 км</option>
                                            <option value="4">от 1 до 5 км</option>
                                            <option value="5">от 100 м до 1 км</option>
                                            <option value="6">менее 100 м</option>
                                        </select>
                                            <span class="textfield-placeholder">До гос. границы</span>
                                            <span class="textfield-reset"></span>
                                        </div>
                                    </div>
                                    </div>

                                    <div class="form__item">
                                        <label class="checkbox">
                                            <input type="checkbox" name="has_coords" value="1">
                                            <span>с координатами</span>
                                        </label>
                                    </div>

                                    <div class="form__item">
                                        <label class="checkbox">
                                            <input type="checkbox" name="has_photos" value="1">
                                            <span>с фотографиями</span>
                                        </label>
                                    </div>

                                    <div class="form__item">
                                        <label class="checkbox">
                                            <input type="checkbox" name="has_reports" value="1">
                                            <span>с отчётами</span>
                                        </label>
                                    </div>

                                    <div class="form__item">
                                        <button type="submit" class="btn btn--primary">
                                            <i class="fas fa-search"></i>
                                            Найти
                                        </button>
                                    </div>
                                </form>
                            </div>
                            <div class="search-results">
                            <!-- Результаты поиска будут добавлены динамически -->
                            </div>
                        </div>

                        <div class="tab-pane" id="reports">
                            <div class="search-panel">
                                <p style="text-align: center; color: var(--color-text-light);">
                                    Функция отчётов в разработке
                                </p>
                        </div>
                    </div>
                </div>
            </div>
        </aside>

        <div class="menu-overlay">
            <div class="menu-overlay__scroll">
                <nav class="menu-list">
                    <ul>
                        <li><a href="/">Главная</a></li>
                        <li><a href="/regions">Районы</a></li>
                        <li><a href="/about">О проекте</a></li>
                        <li><a href="/help-us">Поможете нам?</a></li>
                        <li><a href="/contacts">Контакты</a></li>
                    </ul>
                </nav>
                <div class="menu-social">
                    <p>Следите за&nbsp;новыми фишками:<br>
                        <a href="//vk.com/pereval.online" target="_blank" class="social-icon social-icon--vk tooltip" title="Следите за новыми фишками нашего проекта в VK"><i class="fab fa-vk"></i></a>
                    </p>
                </div>
            </div>
        </div>

        <main id="main" class="main">
            <div class="main__inner">
                <div class="main__header">
                    <div id="map"></div>
                    <div class="main__header-content">
                    <h1 class="main__title">Самая большая база<br>по горным объектам России и СНГ</h1>
                    <div class="main__stats">
                        <div class="stat">
                            <div class="stat__value" id="stat-peaks">3209</div>
                            <div class="stat__label">вершин</div>
                        </div>
                        <div class="stat">
                            <div class="stat__value" id="stat-passes">10608</div>
                            <div class="stat__label">перевалов</div>
                        </div>
                        <div class="stat">
                            <div class="stat__value" id="stat-infrastructure">33</div>
                            <div class="stat__label">объекта инфраструктуры</div>
                        </div>
                        <div class="stat">
                            <div class="stat__value" id="stat-glaciers">1342</div>
                            <div class="stat__label">ледника</div>
                        </div>
                        <div class="stat">
                            <div class="stat__value" id="stat-nature">57</div>
                            <div class="stat__label">объектов природы</div>
                        </div>
                        <div class="stat">
                            <div class="stat__value" id="stat-photos">12140</div>
                            <div class="stat__label">фотографий</div>
                        </div>
                        <div class="stat">
                            <div class="stat__value" id="stat-reports">7242</div>
                            <div class="stat__label">отчёта</div>
                        </div>
                    </div>
                    <button class="btn btn--primary btn--map">
                        <i class="fas fa-map-marked-alt"></i>
                        Показать карту
                    </button>
                    </div>
                </div>

                <div class="main__content">
                    <section class="section">
                        <h2 class="section__title merriweather">Горные районы</h2>
                        <ul class="menu-list" id="region-list">
                            <li><a href="/regions/33">Кавказ <span class="region-id">[33]</span></a></li>
                            <li><a href="/regions/144">Памир и Памиро-Алай <span class="region-id">[144]</span></a></li>
                            <li><a href="/regions/336">Тянь-Шань <span class="region-id">[336]</span></a></li>
                            <li><a href="/regions/290">Прибайкалье и Забайкалье <span class="region-id">[290]</span></a></li>
                            <li><a href="/regions/314">Саяны <span class="region-id">[314]</span></a></li>
                            <li><a href="/regions/1">Алтай <span class="region-id">[1]</span></a></li>
                            <li><a href="/regions/28">Джунгарский Алатау <span class="region-id">[28]</span></a></li>
                            <li><a href="/regions/442">Крым <span class="region-id">[442]</span></a></li>
                            <li><a href="/regions/506">Дальний Восток <span class="region-id">[506]</span></a></li>
                            <li><a href="/regions/27">Гималаи <span class="region-id">[27]</span></a></li>
                            <li><a href="/regions/25">Альпы <span class="region-id">[25]</span></a></li>
                            <li><a href="/regions/434">Урал <span class="region-id">[434]</span></a></li>
                            <li><a href="/regions/484">Северо-Запад России <span class="region-id">[484]</span></a></li>
                            <li><a href="/regions/496">Средняя Сибирь <span class="region-id">[496]</span></a></li>
                            <li><a href="/regions/325">Тавр <span class="region-id">[325]</span></a></li>
                            <li><a href="/regions/26">Высокий Атлас <span class="region-id">[26]</span></a></li>
                            <li><a href="/regions/472">Карпаты <span class="region-id">[472]</span></a></li>
                            <li><a href="/regions/501">Северо-Восточная Сибирь <span class="region-id">[501]</span></a></li>
                            <li><a href="/regions/324">Кузнецкий Алатау <span class="region-id">[324]</span></a></li>
                            <li><a href="/regions/476">Островная Арктика <span class="region-id">[476]</span></a></li>
                            <li><a href="/regions/485">Восточно-Европейская равнина <span class="region-id">[485]</span></a></li>
                            <li><a href="/regions/491">Западная Сибирь <span class="region-id">[491]</span></a></li>
                            <li><a href="/regions/492">Горы Южной Сибири <span class="region-id">[492]</span></a></li>
                            <li><a href="/regions/495">Тыва <span class="region-id">[495]</span></a></li>
                            <li><a href="/regions/514">Средняя Азия <span class="region-id">[514]</span></a></li>
                        </ul>
                    </section>
                </div>
            </div>

            <footer class="footer footer--absolute touch-focused disable-prevent-link-clicks">
            <div class="footer__inner">
                <div class="footer__copyright">
                        <a href="//vk.com/pereval.online" target="_blank" class="social-icon social-icon--vk tooltip" title="Следите за новыми фишками нашего проекта в VK"><i class="fab fa-vk"></i></a>
                        © 2025 Перевал.Online. Просим указывать ссылку на <a href='https://pereval.online'>pereval.online</a> при использовании материалов сайта.
                </div>
            </div>
        </footer>
            <div class="footer-replace"></div>
        </main>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="https://unpkg.com/leaflet-control-layers@1.0.0/dist/Control.Layers.js" crossorigin=""></script>
    <script>
        function init() {
            var map = L.map('map').setView([43.0, 75.0], 4);
            
            // Базовые слои карт
            var osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            });

            var osmTopo = L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://opentopomap.org">OpenTopoMap</a> contributors'
            });

            var yandex = L.tileLayer('https://core-renderer-tiles.maps.yandex.net/tiles?l=map&v=23.03.14-0-b230315123529&x={x}&y={y}&z={z}&scale=1&lang=ru_RU', {
                attribution: '&copy; <a href="https://yandex.ru/maps">Яндекс Карты</a>'
            });

            var google = L.tileLayer('https://mt{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}', {
                subdomains: ['0', '1', '2', '3'],
                attribution: '&copy; <a href="https://www.google.com/maps">Google Maps</a>'
            });

            var bing = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
                attribution: '&copy; <a href="https://www.esri.com">Esri</a>'
            });

            // Обновленный URL для карт Генштаба СССР (используем OpenHistoricalMap как альтернативу)
            var soviet = L.tileLayer('https://tile.openhistoricalmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openhistoricalmap.org">OpenHistoricalMap</a> contributors'
            });

            var gosgis = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png', {
                subdomains: 'abcd',
                attribution: '&copy; <a href="https://carto.com">CartoDB</a>'
            });

            // Добавляем переключатель слоев
            var baseMaps = {
                "Яндекс": yandex,
                "Google": google,
                "Bing": bing,
                "OpenStreet TopoMap": osmTopo,
                "OpenStreetMap": osm,
                "Карты Генштаба СССР": soviet,
                "Карты ГосГисЦентра": gosgis
            };

            L.control.layers(baseMaps, null, {
                position: 'topright',
                collapsed: false
            }).addTo(map);

            // Устанавливаем OpenStreetMap как базовый слой
            osm.addTo(map);

            // Добавляем обработчик для кнопки
            document.querySelector('.btn--map').addEventListener('click', function() {
                var contentBlock = document.querySelector('.main__header-content');
                var mapBlock = document.getElementById('map');
                
                if (contentBlock.style.display !== 'none') {
                    contentBlock.style.display = 'none';
                    mapBlock.style.display = 'block';
                    this.innerHTML = '<i class="fas fa-arrow-left"></i> Вернуться к статистике';
                    // Перерисовываем карту после показа
                    setTimeout(function() {
                        map.invalidateSize();
                    }, 100);
                } else {
                    contentBlock.style.display = 'flex';
                    mapBlock.style.display = 'none';
                    this.innerHTML = '<i class="fas fa-map-marked-alt"></i> Показать карту';
                }
            });
        }

        // Инициализируем карту после загрузки страницы
        document.addEventListener('DOMContentLoaded', init);

        // Функция для обновления количества объектов по региону
        async function updateRegionCount(regionLink) {
            const regionId = regionLink.getAttribute('data-region-id');
            const countSpan = regionLink.querySelector('.region-count');
            if (!countSpan) return;

            console.log(`Fetching count for region ID: ${regionId}`);
            try {
                // First get the region name from the /region/list endpoint
                const regionResponse = await fetch('/api/region/list');
                if (!regionResponse.ok) {
                    throw new Error(`HTTP error! status: ${regionResponse.status}`);
                }
                const regions = await regionResponse.json();
                const region = regions.find(r => r.id === regionId);
                if (!region) {
                    console.error(`Region with ID ${regionId} not found`);
                    return;
                }

                // Then use the region name to search for objects
                const response = await fetch(`/api/objects?region=${encodeURIComponent(region.name)}`);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const data = await response.json();
                console.log(`Received data for region ${region.name}:`, data);
                countSpan.textContent = data.total;
            } catch (error) {
                console.error('Error fetching region count:', error);
                countSpan.textContent = '?';
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM Content Loaded');
            
            // Находим все ссылки на регионы в списке
            const regionLinks = document.querySelectorAll('.section .menu-list a[href^="/regions/"]');
            console.log('Found region links:', regionLinks.length);
            
            regionLinks.forEach(link => {
                const countElement = link.querySelector('.menu-list__count');
                if (countElement) {
                    const regionId = link.href.split('/').pop();
                    console.log('Updating count for region:', regionId, 'element:', countElement);
                    updateRegionCount(link);
                }
            });
        });
    </script>
    <script>
        // Инициализация меню
        document.addEventListener('DOMContentLoaded', function() {
            const menuSwitcher = document.querySelector('.js-menu-switcher');
            const aside = document.querySelector('.aside');
            const menuOverlay = document.querySelector('.menu-overlay');
            const body = document.body;

            // Функция для открытия/закрытия меню
            function toggleMenu() {
                menuSwitcher.classList.toggle('active');
                aside.classList.toggle('active');
                menuOverlay.classList.toggle('active');
                body.classList.toggle('menu-open');
            }

            // Обработчик клика по кнопке меню
            menuSwitcher.addEventListener('click', function(e) {
                e.preventDefault();
                toggleMenu();
            });

            // Закрытие меню при клике по оверлею
            menuOverlay.addEventListener('click', function(e) {
                if (e.target === menuOverlay) {
                    toggleMenu();
                }
            });

            // Закрытие меню при изменении размера окна
            window.addEventListener('resize', function() {
                if (window.innerWidth > 768 && aside.classList.contains('active')) {
                    toggleMenu();
                }
            });
        });
    </script>
    <script>
        // Переопределяем стандартное поведение Select2
        (function($) {
            var originalSelect2 = $.fn.select2;
            $.fn.select2 = function() {
                var result = originalSelect2.apply(this, arguments);
                this.each(function() {
                    var $select = $(this);
                    var $container = $select.next('.select2-container');
                    
                    // Перехватываем события обновления результатов
                    $container.on('select2:results:all', function(e) {
                        var $dropdown = $container.find('.select2-dropdown');
                        var $options = $dropdown.find('.select2-results__option');
                        
                        $options.each(function() {
                            $(this).css({
                                'display': 'block',
                                'opacity': '1',
                                'visibility': 'visible'
                            });
                        });
                    });
                });
                return result;
            };
        })(jQuery);

        // Инициализация Select2
        $(document).ready(function() {
            $('.selectbox').each(function() {
                var $select = $(this);
                var $wrapper = $select.closest('.textfield-wrapper');
                var $placeholder = $wrapper.find('.textfield-placeholder');
                var minAggregate = parseInt($select.data('selectbox-aggregate-min')) || 0;
                
                // Добавляем счетчики для селектов регионов и стран
                var isRegionSelect = $select.attr('name') === 'region[]';
                var isCountrySelect = $select.attr('name') === 'country[]';
                var regionCounts = isRegionSelect ? {
                    '1': '3846', // Кавказ
                    '2': '3248', // Памир и Памиро-Алай
                    '3': '3202', // Тянь-Шань
                    '4': '1232', // Прибайкалье и Забайкалье
                    '5': '928',  // Саяны
                    '6': '870',  // Алтай
                    '7': '694',  // Джунгарский Алатау
                    '8': '399',  // Крым
                    '9': '184',  // Дальний Восток
                    '10': '182', // Гималаи
                    '11': '134', // Альпы
                    '12': '134', // Урал
                    '13': '98',  // Северо-Запад России
                    '14': '51',  // Средняя Сибирь
                    '15': '0',   // Тавр
                    '16': '0',   // Высокий Атлас
                    '17': '0',   // Карпаты
                    '18': '0',   // Северо-Восточная Сибирь
                    '19': '0',   // Кузнецкий Алатау
                    '20': '0',   // Островная Арктика
                    '21': '0',   // Восточно-Европейская равнина
                    '22': '0',   // Западная Сибирь
                    '23': '0',   // Горы Южной Сибири
                    '24': '0',   // Тыва
                    '25': '0'    // Средняя Азия
                } : null;

                var countryCounts = isCountrySelect ? {
                    '1': '3846', // Россия
                    '2': '3248', // Киргизия
                    '3': '3202', // Таджикистан
                    '4': '1232', // Казахстан
                    '5': '928',  // Грузия
                    '6': '870',  // Китай
                    '7': '694',  // Монголия
                    '8': '399',  // Абхазия
                    '9': '184',  // Узбекистан
                    '10': '182', // Непал
                    '11': '134', // Южная Осетия
                    '12': '134', // Азербайджан
                    '13': '98',  // Швейцария
                    '14': '51',  // Италия
                    '15': '0',   // Афганистан
                    '16': '0',   // Австрия
                    '17': '0',   // Индия
                    '18': '0',   // Пакистан
                    '19': '0',   // Турция
                    '20': '0',   // Франция
                    '21': '0',   // Словения
                    '22': '0',   // Украина
                    '23': '0'    // Ирак
                } : null;
                
                $select.select2({
                    width: '100%',
                    dropdownAutoWidth: true,
                    minimumResultsForSearch: Infinity,
                    closeOnSelect: false,
                    scrollAfterSelect: false,
                    allowClear: true,
                    templateResult: function(data) {
                        if (!data.element) return data.text;
                        
                        var $option = $('<div class="select2-results__option">');
                        var $content = $('<div class="select2-option-content">');
                        
                        // Добавляем счетчик для селектов регионов и стран
                        if (isRegionSelect) {
                            var count = regionCounts[data.element.value] || '0';
                            $content.append(data.text);
                            $content.append('<span class="menu-list__count">' + count + '</span>');
                            $content.append('<img src="/static/img/checkbox-tick.svg" class="select2-checkbox" alt="✓">');
                            $option.append($content);
                            return $option;
                        }
                        
                        if (isCountrySelect) {
                            var count = countryCounts[data.element.value] || '0';
                            $content.append(data.text);
                            $content.append('<span class="menu-list__count">' + count + '</span>');
                            $content.append('<img src="/static/img/checkbox-tick.svg" class="select2-checkbox" alt="✓">');
                            $option.append($content);
                            return $option;
                        }
                        
                        $content.append(data.text);
                        $content.append('<img src="/static/img/checkbox-tick.svg" class="select2-checkbox" alt="✓">');
                        $option.append($content);
                        return $option;
                    },
                    templateSelection: function(data) {
                        if (!data) return '';
                        
                        var selected = $select.find('option:selected');
                        if (selected.length === 0) return '';
                        
                        if (selected.length >= minAggregate) {
                            return 'Выбрано ' + selected.length;
                        }
                        
                        return selected.map(function() {
                            return $(this).text();
                        }).get().join(', ');
                    }
                }).on('select2:open', function() {
                    // Добавляем счетчики при открытии дропдауна
                    var $dropdown = $(this).next('.select2-container').find('.select2-dropdown');
                    $dropdown.find('.select2-results__option').each(function() {
                        var $option = $(this);
                        var value = $option.attr('id').split('-').pop(); // Получаем значение из id опции
                        
                        if (isRegionSelect && regionCounts[value]) {
                            if (!$option.find('.menu-list__count').length) {
                                $option.find('.select2-option-content').append('<span class="menu-list__count">' + regionCounts[value] + '</span>');
                            }
                        } else if (isCountrySelect && countryCounts[value]) {
                            if (!$option.find('.menu-list__count').length) {
                                $option.find('.select2-option-content').append('<span class="menu-list__count">' + countryCounts[value] + '</span>');
                    }
                        }
                    });
                });

                var $container = $select.next('.select2-container');
                var $selection = $container.find('.select2-selection');
                
                // Обработчик выбора элемента
                $select.on('select2:select select2:unselect', function() {
                    var selected = $(this).find('option:selected');
                    var text;
                    
                    if (selected.length >= minAggregate) {
                        text = 'Выбрано ' + selected.length;
                    } else {
                        text = selected.map(function() {
                            return $(this).text();
                        }).get().join(', ');
                    }
                    
                    if (selected.length > 0) {
                        $container.addClass('has-selection');
                        $wrapper.addClass('has-selection');
                        $selection.addClass('select2-selection--with-clear');
                        // Обновляем плейсхолдер при выборе
                        $placeholder.css({
                            'color': '#444',
                            'font-size': '12px',
                            'top': '-16px'
                        });
                        $placeholder.addClass('active');
                    } else {
                        $container.removeClass('has-selection');
                        $wrapper.removeClass('has-selection');
                        $selection.removeClass('select2-selection--with-clear');
                        // Возвращаем плейсхолдер в исходное положение
                        $placeholder.css({
                            'color': '#888',
                            'font-size': '14px',
                            'top': '1px'
                        });
                        $placeholder.removeClass('active');
                    }
                    
                    // Обновляем текст напрямую
                    $container.find('.select2-selection__rendered').text(text);
                });

                // Обработчик очистки
                $select.on('select2:clear', function() {
                    // Очищаем контейнер и обновляем плейсхолдер
                    var $container = $select.next('.select2-container');
                    $container.removeClass('has-selection');
                    $wrapper.removeClass('has-selection');
                    $container.find('.select2-selection').removeClass('select2-selection--with-clear');
                    $container.find('.select2-selection__rendered').text('');
                    
                    // Возвращаем плейсхолдер в исходное положение
                    $placeholder.css({
                        'color': '#888',
                        'font-size': '14px',
                        'top': '1px'
                    });
                    $placeholder.removeClass('active');
                });

                // Инициализация состояния при загрузке
                var selected = $select.find('option:selected');
                if (selected.length > 0) {
                    var text;
                    
                    if (selected.length >= minAggregate) {
                        text = 'Выбрано ' + selected.length;
                    } else {
                        text = selected.map(function() {
                            return $(this).text();
                        }).get().join(', ');
                    }
                    
                    $container.addClass('has-selection');
                    $wrapper.addClass('has-selection');
                    $selection.addClass('select2-selection--with-clear');
                    $container.find('.select2-selection__rendered').text(text);
                    // Обновляем плейсхолдер при инициализации
                    $placeholder.css({
                        'color': '#444',
                        'font-size': '12px',
                        'top': '-16px'
                    });
                    $placeholder.addClass('active');
                }
            });
        });
    </script>
    <script>
        $(document).ready(function() {
            // Функция для добавления чекбокса к опциям
            function addCheckboxToOptions() {
                $('.select2-results__option').each(function() {
                    if (!$(this).find('.select2-checkbox').length) {
                        $(this).append('<img src="/static/img/checkbox-tick.svg" class="select2-checkbox" alt="✓">');
                    }
                });
            }

            // Добавляем обработчик для открытия Select2
            $(document).on('select2:open', '.select2', function() {
                setTimeout(addCheckboxToOptions, 0);
            });

            // Инициализация Select2
            $('.selectbox').select2({
                width: '100%',
                dropdownAutoWidth: true,
                minimumResultsForSearch: Infinity,
                closeOnSelect: false,
                scrollAfterSelect: false,
                allowClear: true,
                templateSelection: function(data) {
                    if (!data) return '';
                    
                    // Получаем все выбранные элементы
                    var selected = $(this.element).find('option:selected');
                    if (selected.length === 0) return '';
                    
                    // Если количество выбранных элементов больше или равно минимальному,
                    // показываем "Выбрано N"
                    var minAggregate = parseInt($(this.element).data('selectbox-aggregate-min')) || 0;
                    if (selected.length >= minAggregate) {
                        return 'Выбрано ' + selected.length;
                    }
                    
                    // Иначе показываем список выбранных элементов
                    return selected.map(function() {
                        return $(this).text();
                    }).get().join(', ');
                }
            }).on('select2:open', function() {
                setTimeout(addCheckboxToOptions, 0);
            }).on('select2:select', function(e) {
                // Не предотвращаем стандартное поведение
                var $select = $(this);
                var $container = $select.next('.select2-container');
                var $selection = $container.find('.select2-selection');
                var selected = $select.find('option:selected');
                var minAggregate = parseInt($select.data('selectbox-aggregate-min')) || 0;
                var text;
                
                if (selected.length >= minAggregate) {
                    text = 'Выбрано ' + selected.length;
                } else {
                    text = selected.map(function() {
                        return $(this).text();
                    }).get().join(', ');
                }
                
                if (selected.length > 0) {
                    $container.addClass('has-selection');
                    $selection.addClass('select2-selection--with-clear');
                }
                
                // Обновляем текст напрямую
                $container.find('.select2-selection__rendered').text(text);
                
                // Предотвращаем закрытие дропдауна
                setTimeout(function() {
                    $select.select2('open');
                }, 0);
            });
        });
    </script>
    <script>
        $(document).ready(function() {
            // Обработчик отправки формы поиска
            $('#search-form').on('submit', function(e) {
                e.preventDefault();
                
                // Собираем все параметры поиска
                const params = new URLSearchParams();
                
                // Добавляем параметры из текстового поля поиска
                const name = $('.js-autocomplete').val();
                if (name) params.append('name', name);
                
                // Добавляем параметры из селекта типов объектов
                const objectTypes = $('select[name="type[]"]').val();
                if (objectTypes && objectTypes.length > 0) {
                    objectTypes.forEach(type => {
                        // Преобразуем числовые значения в строковые названия типов
                        switch(type) {
                            case '1': params.append('object_type', 'перевал'); break;
                            case '2': params.append('object_type', 'вершина'); break;
                            case '3': params.append('object_type', 'ледник'); break;
                            case '4': params.append('object_type', 'объект инфраструктуры'); break;
                            case '5': params.append('object_type', 'объект природы'); break;
                        }
                    });
                }
                
                // Добавляем параметры из селекта регионов
                const regions = $('select[name="region[]"]').val();
                if (regions && regions.length > 0) {
                    regions.forEach(region => {
                        // Получаем текст региона вместо значения
                        const regionText = $('select[name="region[]"] option[value="' + region + '"]').text();
                        params.append('region', regionText);
                    });
                }
                
                // Добавляем параметры из селекта стран
                const countries = $('select[name="country[]"]').val();
                if (countries && countries.length > 0) {
                    countries.forEach(country => {
                        // Получаем текст страны вместо значения
                        const countryText = $('select[name="country[]"] option[value="' + country + '"]').text();
                        params.append('country', countryText);
                    });
                }
                
                // Добавляем параметры из селекта расстояния до границы
                const borders = $('select[name="border[]"]').val();
                if (borders && borders.length > 0) {
                    borders.forEach(border => {
                        // Преобразуем значения в числовые диапазоны
                        switch(border) {
                            case '1': // более 20 км
                                params.append('distance_to_border_min', '20');
                                break;
                            case '2': // от 10 до 20 км
                                params.append('distance_to_border_min', '10');
                                params.append('distance_to_border_max', '20');
                                break;
                            case '3': // от 5 до 10 км
                                params.append('distance_to_border_min', '5');
                                params.append('distance_to_border_max', '10');
                                break;
                            case '4': // от 1 до 5 км
                                params.append('distance_to_border_min', '1');
                                params.append('distance_to_border_max', '5');
                                break;
                            case '5': // от 100 м до 1 км
                                params.append('distance_to_border_min', '0.1');
                                params.append('distance_to_border_max', '1');
                                break;
                            case '6': // менее 100 м
                                params.append('distance_to_border_max', '0.1');
                                break;
                        }
                    });
                }
                
                // Добавляем параметры чекбоксов
                if ($('input[name="has_coords"]').prop('checked')) {
                    params.append('has_coordinates', 'true');
                }
                
                if ($('input[name="has_photos"]').prop('checked')) {
                    params.append('has_photos', 'true');
                }
                
                if ($('input[name="has_reports"]').prop('checked')) {
                    params.append('has_reports', 'true');
                }
                
                // Добавляем параметры пагинации
                params.append('page', '1');
                params.append('per_page', '100');
                
                // Выполняем редирект на API эндпоинт с параметрами
                window.location.href = `/api/objects?${params.toString()}`;
            });
        });
    </script>
    <script>
        // Function to format numbers with thousands separator
        function formatNumber(num) {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
        }

        // Function to update stats
        async function updateStats() {
            try {
                const response = await fetch('/stats');
                if (!response.ok) {
                    throw new Error('Failed to fetch stats');
                }
                const stats = await response.json();
                
                // Update each stat value
                document.getElementById('stat-peaks').textContent = formatNumber(stats.vertices);
                document.getElementById('stat-passes').textContent = formatNumber(stats.passes);
                document.getElementById('stat-infrastructure').textContent = formatNumber(stats.infrastructure);
                document.getElementById('stat-glaciers').textContent = formatNumber(stats.glaciers);
                document.getElementById('stat-nature').textContent = formatNumber(stats.nature);
                document.getElementById('stat-photos').textContent = formatNumber(stats.photos);
                document.getElementById('stat-reports').textContent = formatNumber(stats.trips);
            } catch (error) {
                console.error('Error fetching stats:', error);
            }
        }

        // Update stats when the page loads
        document.addEventListener('DOMContentLoaded', updateStats);
    </script>
    <script>
        // Динамическая загрузка списка районов
        async function loadRegions() {
            const list = document.getElementById('region-list');
            list.innerHTML = '<li>Загрузка...</li>';
            try {
                const response = await fetch('/api/region_stats');
                if (!response.ok) throw new Error('Ошибка загрузки');
                const regions = await response.json();
                list.innerHTML = '';
                regions.forEach(region => {
                    const li = document.createElement('li');
                    li.innerHTML = `<a href="/regions/${region.region_id}">${region.region_name}<span class="menu-list__count">${region.count}</span></a>`;
                    list.appendChild(li);
                });
                if (regions.length === 0) {
                    list.innerHTML = '<li>Нет данных</li>';
                }
            } catch (e) {
                console.error('Error loading regions:', e);
                list.innerHTML = '<li>Ошибка загрузки</li>';
            }
        }
        document.addEventListener('DOMContentLoaded', loadRegions);
    </script>
</body>
</html> 